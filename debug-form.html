<!DOCTYPE html>
<html>
<head>
    <title>Form Debug Test</title>
</head>
<body>
    <h1>Form Debug Test</h1>
    <button onclick="testForm()">Test Form Submission</button>
    <button onclick="checkFormElements()">Check Form Elements</button>
    <div id="results"></div>

    <script>
        function testForm() {
            const results = document.getElementById('results');
            results.innerHTML = '<h3>Form Test Results:</h3>';
            
            // Check if form exists
            const form = document.getElementById('expenseForm');
            if (form) {
                results.innerHTML += '<p style="color: green;">✅ expenseForm found</p>';
                
                // Check form fields
                const fields = ['amount', 'category', 'description', 'date'];
                fields.forEach(fieldName => {
                    const field = form.querySelector(`[name="${fieldName}"]`);
                    const value = field ? field.value : 'NOT FOUND';
                    results.innerHTML += `<p>${fieldName}: ${field ? '✅' : '❌'} (value: ${value})</p>`;
                });
                
                // Try to create FormData
                try {
                    const formData = new FormData(form);
                    results.innerHTML += '<p style="color: green;">✅ FormData creation successful</p>';
                    
                    for (const [key, value] of formData.entries()) {
                        results.innerHTML += `<p>FormData ${key}: ${value}</p>`;
                    }
                } catch (e) {
                    results.innerHTML += `<p style="color: red;">❌ FormData error: ${e}</p>`;
                }
            } else {
                results.innerHTML += '<p style="color: red;">❌ expenseForm NOT FOUND</p>';
            }
        }
        
        function checkFormElements() {
            const results = document.getElementById('results');
            results.innerHTML += '<h3>Form Elements Check:</h3>';
            
            const elementIds = ['expenseForm', 'amount', 'category', 'description', 'date'];
            elementIds.forEach(id => {
                const element = document.getElementById(id);
                results.innerHTML += `<p>${id}: ${element ? 'Found' : 'NOT FOUND'}</p>`;
                if (element && element.tagName) {
                    results.innerHTML += `<p>&nbsp;&nbsp;- Tag: ${element.tagName}, Type: ${element.type || 'N/A'}</p>`;
                }
            });
        }
        
        // Auto-check when page loads
        setTimeout(() => {
            checkFormElements();
        }, 1000);
    </script>
</body>
</html>
